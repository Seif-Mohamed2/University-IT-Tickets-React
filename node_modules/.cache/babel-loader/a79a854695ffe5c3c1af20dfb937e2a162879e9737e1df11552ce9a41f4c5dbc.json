{"ast":null,"code":"var _jsxFileName = \"/Users/seifmohamed/Documents/webdev/TechNotes/front-end/my-app/src/components/DashHeader.js\",\n  _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFileCirclePlus, faFilePen, faUserGear, faUserPlus, faRightFromBracket } from \"@fortawesome/free-solid-svg-icons\";\nimport { useNavigate, Link, useLocation } from 'react-router-dom';\nimport { useSendLogoutMutation } from '../features/auth/authApiSlice';\nimport useAuth from '../hooks/useAuth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DASH_REGEX = /^\\/dash(\\/)?$/;\nconst TICKETS_REGEX = /^\\/dash\\/tickets(\\/)?$/;\nconst USERS_REGEX = /^\\/dash\\/users(\\/)?$/;\nconst STUDENTS_REGEX = /^\\/dash\\/students(\\/)?$/;\nconst DashHeader = () => {\n  _s();\n  var _error$data;\n  const {\n    isManager,\n    isAdmin\n  } = useAuth();\n  const navigate = useNavigate();\n  const {\n    pathname\n  } = useLocation();\n  const [sendLogout, {\n    isLoading,\n    isSuccess,\n    isError,\n    error\n  }] = useSendLogoutMutation();\n  useEffect(() => {\n    if (isSuccess) navigate('/');\n  }, [isSuccess, navigate]);\n  const onNewTicketClicked = () => navigate('/dash/tickets/new');\n  const onNewUserClicked = () => navigate('/dash/users/new');\n  const onTicketsClicked = () => navigate('/dash/tickets');\n  const onUsersClicked = () => navigate('/dash/users');\n  let dashClass = null;\n  if (!DASH_REGEX.test(pathname) && !TICKETS_REGEX.test(pathname) && !USERS_REGEX.test(pathname)) {\n    dashClass = \"dash-header__container--small\";\n  }\n  let newTicketButton = null;\n  if (TICKETS_REGEX.test(pathname)) {\n    newTicketButton = /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"icon-button\",\n      title: \"New Ticket\",\n      onClick: onNewTicketClicked,\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faFileCirclePlus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this);\n  }\n  let newUserButton = null;\n  if (USERS_REGEX.test(pathname)) {\n    newUserButton = /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"icon-button\",\n      title: \"New User\",\n      onClick: onNewUserClicked,\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faUserPlus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this);\n  }\n  let userButton = null;\n  if (isManager || isAdmin) {\n    if (!USERS_REGEX.test(pathname) && pathname.includes('/dash')) {\n      userButton = /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"icon-button\",\n        title: \"Users\",\n        onClick: onUsersClicked,\n        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faUserGear\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this);\n    }\n  }\n  let newStudentButton = null;\n  let ticketsButton = null;\n  if (STUDENTS_REGEX.test(pathname)) {\n    newUserButton = /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"icon-button\",\n      title: \"NEW Student\",\n      onClick: onNewUserClicked,\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faUserPlus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this);\n  }\n  if (!TICKETS_REGEX.test(pathname) && pathname.includes('/dash')) {\n    ticketsButton = /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"icon-button\",\n      title: \"Tickets\",\n      onClick: onTicketsClicked,\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faFilePen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this);\n  }\n  const logoutButton = /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"icon-button\",\n    title: \"Logout\",\n    onClick: sendLogout,\n    children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n      icon: faRightFromBracket\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 9\n  }, this);\n  const errClass = isError ? \"errmsg\" : \"offscreen\";\n  let buttonContent;\n  if (isLoading) {\n    buttonContent = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Logging Out...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }, this);\n  } else {\n    buttonContent = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [newTicketButton, newUserButton, newStudentButton, ticketsButton, userButton, logoutButton]\n    }, void 0, true);\n  }\n  const content = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: errClass,\n      children: error === null || error === void 0 ? void 0 : (_error$data = error.data) === null || _error$data === void 0 ? void 0 : _error$data.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"dash-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `dash-header__container ${dashClass}`,\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/dash\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"dash-header__title\",\n            children: \"techTickets\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"dash-header__nav\",\n          children: buttonContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n  return content;\n};\n_s(DashHeader, \"ibaqlXPydU7oTbvKcQQCJZGG9qM=\", false, function () {\n  return [useAuth, useNavigate, useLocation, useSendLogoutMutation];\n});\n_c = DashHeader;\nexport default DashHeader;\nvar _c;\n$RefreshReg$(_c, \"DashHeader\");","map":{"version":3,"names":["useEffect","FontAwesomeIcon","faFileCirclePlus","faFilePen","faUserGear","faUserPlus","faRightFromBracket","useNavigate","Link","useLocation","useSendLogoutMutation","useAuth","DASH_REGEX","TICKETS_REGEX","USERS_REGEX","STUDENTS_REGEX","DashHeader","isManager","isAdmin","navigate","pathname","sendLogout","isLoading","isSuccess","isError","error","onNewTicketClicked","onNewUserClicked","onTicketsClicked","onUsersClicked","dashClass","test","newTicketButton","newUserButton","userButton","includes","newStudentButton","ticketsButton","logoutButton","errClass","buttonContent","content","data","message"],"sources":["/Users/seifmohamed/Documents/webdev/TechNotes/front-end/my-app/src/components/DashHeader.js"],"sourcesContent":["import { useEffect } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {\r\n    faFileCirclePlus,\r\n    faFilePen,\r\n    faUserGear,\r\n    faUserPlus,\r\n    faRightFromBracket\r\n} from \"@fortawesome/free-solid-svg-icons\"\r\nimport { useNavigate, Link, useLocation } from 'react-router-dom'\r\n\r\nimport { useSendLogoutMutation } from '../features/auth/authApiSlice'\r\n\r\nimport useAuth from '../hooks/useAuth'\r\n\r\nconst DASH_REGEX = /^\\/dash(\\/)?$/\r\nconst TICKETS_REGEX = /^\\/dash\\/tickets(\\/)?$/\r\nconst USERS_REGEX = /^\\/dash\\/users(\\/)?$/\r\nconst STUDENTS_REGEX = /^\\/dash\\/students(\\/)?$/\r\n\r\nconst DashHeader = () => {\r\n    const { isManager, isAdmin } = useAuth()\r\n\r\n    const navigate = useNavigate()\r\n    const { pathname } = useLocation()\r\n\r\n    const [sendLogout, {\r\n        isLoading,\r\n        isSuccess,\r\n        isError,\r\n        error\r\n    }] = useSendLogoutMutation()\r\n\r\n    useEffect(() => {\r\n        if (isSuccess) navigate('/')\r\n    }, [isSuccess, navigate])\r\n\r\n    const onNewTicketClicked = () => navigate('/dash/tickets/new')\r\n    const onNewUserClicked = () => navigate('/dash/users/new')\r\n    const onTicketsClicked = () => navigate('/dash/tickets')\r\n    const onUsersClicked = () => navigate('/dash/users')\r\n\r\n    let dashClass = null\r\n    if (!DASH_REGEX.test(pathname) && !TICKETS_REGEX.test(pathname) && !USERS_REGEX.test(pathname)) {\r\n        dashClass = \"dash-header__container--small\"\r\n    }\r\n\r\n    let newTicketButton = null\r\n    if (TICKETS_REGEX.test(pathname)) {\r\n        newTicketButton = (\r\n            <button\r\n                className=\"icon-button\"\r\n                title=\"New Ticket\"\r\n                onClick={onNewTicketClicked}\r\n            >\r\n                <FontAwesomeIcon icon={faFileCirclePlus} />\r\n            </button>\r\n        )\r\n    }\r\n\r\n    let newUserButton = null\r\n    if (USERS_REGEX.test(pathname)) {\r\n        newUserButton = (\r\n            <button\r\n                className=\"icon-button\"\r\n                title=\"New User\"\r\n                onClick={onNewUserClicked}\r\n            >\r\n                <FontAwesomeIcon icon={faUserPlus} />\r\n            </button>\r\n        )\r\n    }\r\n\r\n    let userButton = null\r\n    if (isManager || isAdmin) {\r\n        if (!USERS_REGEX.test(pathname) && pathname.includes('/dash')) {\r\n            userButton = (\r\n                <button\r\n                    className=\"icon-button\"\r\n                    title=\"Users\"\r\n                    onClick={onUsersClicked}\r\n                >\r\n                    <FontAwesomeIcon icon={faUserGear} />\r\n                </button>\r\n            )\r\n        }\r\n    }\r\n\r\n    let newStudentButton = null;\r\n\r\n\r\n\r\n    let ticketsButton = null\r\n    if (STUDENTS_REGEX.test(pathname)) {\r\n        newUserButton = (\r\n            <button\r\n                className=\"icon-button\"\r\n                title=\"NEW Student\"\r\n                onClick={onNewUserClicked}\r\n            >\r\n                <FontAwesomeIcon icon={faUserPlus} />\r\n            </button>\r\n        )\r\n    }\r\n    if (!TICKETS_REGEX.test(pathname) && pathname.includes('/dash')) {\r\n        ticketsButton = (\r\n            <button\r\n                className=\"icon-button\"\r\n                title=\"Tickets\"\r\n                onClick={onTicketsClicked}\r\n            >\r\n                <FontAwesomeIcon icon={faFilePen} />\r\n            </button>\r\n        )\r\n    }\r\n\r\n    const logoutButton = (\r\n        <button\r\n            className=\"icon-button\"\r\n            title=\"Logout\"\r\n            onClick={sendLogout}\r\n        >\r\n            <FontAwesomeIcon icon={faRightFromBracket} />\r\n        </button>\r\n    )\r\n\r\n    const errClass = isError ? \"errmsg\" : \"offscreen\"\r\n\r\n    let buttonContent\r\n    if (isLoading) {\r\n        buttonContent = <p>Logging Out...</p>\r\n    } else {\r\n        buttonContent = (\r\n            <>\r\n                {newTicketButton}\r\n                {newUserButton}\r\n                {newStudentButton}\r\n                {ticketsButton}\r\n                {userButton}\r\n                {logoutButton}\r\n            </>\r\n        )\r\n    }\r\n\r\n    const content = (\r\n        <>\r\n            <p className={errClass}>{error?.data?.message}</p>\r\n\r\n            <header className=\"dash-header\">\r\n                <div className={`dash-header__container ${dashClass}`}>\r\n                    <Link to=\"/dash\">\r\n                        <h1 className=\"dash-header__title\">techTickets</h1>\r\n                    </Link>\r\n                    <nav className=\"dash-header__nav\">\r\n                        {buttonContent}\r\n                    </nav>\r\n                </div>\r\n            </header>\r\n        </>\r\n    )\r\n\r\n    return content\r\n}\r\nexport default DashHeader"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}