{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useSelector } from \"react-redux\";\nimport { selectCurrentToken } from \"../features/auth/authSlice\";\nimport jwtDecode from \"jwt-decode\";\nconst useAuth = () => {\n  _s();\n  const token = useSelector(selectCurrentToken);\n  let isManager = false;\n  let isAdmin = false;\n  let status = \"Employee\";\n  if (token) {\n    const decode = jwtDecode(token);\n    const {\n      username,\n      roles\n    } = decode.UserInfo;\n    isAdmin = roles.includes(\"Admin\");\n    isManager = roles.includes(\"Manager\");\n    if (isManager) {\n      status = \"Manager\";\n    }\n    if (isAdmin) {\n      status = \"Admin\";\n    }\n    return {\n      username,\n      roles,\n      isAdmin,\n      isManager,\n      status\n    };\n  }\n  return {\n    username: \"\",\n    isAdmin,\n    isManager,\n    status,\n    roles: []\n  };\n};\n_s(useAuth, \"bD5+gKbiITcJRDYAIJK4ZSEgato=\", false, function () {\n  return [useSelector];\n});\nexport default useAuth;","map":{"version":3,"names":["useSelector","selectCurrentToken","jwtDecode","useAuth","token","isManager","isAdmin","status","decode","username","roles","UserInfo","includes"],"sources":["/Users/seifmohamed/Documents/webdev/TechNotes/front-end/my-app/src/hooks/useAuth.js"],"sourcesContent":["import {useSelector} from \"react-redux\";\nimport {selectCurrentToken} from \"../features/auth/authSlice\";\nimport jwtDecode from \"jwt-decode\";\n\nconst useAuth = () => {\n  const token = useSelector(selectCurrentToken);\n  let isManager = false;\n  let isAdmin = false;\n  let status = \"Employee\";\n  \n  if (token){\n    const decode = jwtDecode(token);\n    const {username, roles} = decode.UserInfo;\n    isAdmin = roles.includes(\"Admin\");\n    isManager = roles.includes(\"Manager\");\n    if (isManager){\n        status = \"Manager\"\n    }\n    if (isAdmin){\n        status = \"Admin\"\n    }\n    return {username, roles, isAdmin, isManager, status};\n  }\n  return {username: \"\", isAdmin, isManager, status, roles: []};\n}\n\nexport default useAuth\n"],"mappings":";AAAA,SAAQA,WAAW,QAAO,aAAa;AACvC,SAAQC,kBAAkB,QAAO,4BAA4B;AAC7D,OAAOC,SAAS,MAAM,YAAY;AAElC,MAAMC,OAAO,GAAG,MAAM;EAAA;EACpB,MAAMC,KAAK,GAAGJ,WAAW,CAACC,kBAAkB,CAAC;EAC7C,IAAII,SAAS,GAAG,KAAK;EACrB,IAAIC,OAAO,GAAG,KAAK;EACnB,IAAIC,MAAM,GAAG,UAAU;EAEvB,IAAIH,KAAK,EAAC;IACR,MAAMI,MAAM,GAAGN,SAAS,CAACE,KAAK,CAAC;IAC/B,MAAM;MAACK,QAAQ;MAAEC;IAAK,CAAC,GAAGF,MAAM,CAACG,QAAQ;IACzCL,OAAO,GAAGI,KAAK,CAACE,QAAQ,CAAC,OAAO,CAAC;IACjCP,SAAS,GAAGK,KAAK,CAACE,QAAQ,CAAC,SAAS,CAAC;IACrC,IAAIP,SAAS,EAAC;MACVE,MAAM,GAAG,SAAS;IACtB;IACA,IAAID,OAAO,EAAC;MACRC,MAAM,GAAG,OAAO;IACpB;IACA,OAAO;MAACE,QAAQ;MAAEC,KAAK;MAAEJ,OAAO;MAAED,SAAS;MAAEE;IAAM,CAAC;EACtD;EACA,OAAO;IAACE,QAAQ,EAAE,EAAE;IAAEH,OAAO;IAAED,SAAS;IAAEE,MAAM;IAAEG,KAAK,EAAE;EAAE,CAAC;AAC9D,CAAC;AAAA,GApBKP,OAAO;EAAA,QACGH,WAAW;AAAA;AAqB3B,eAAeG,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}