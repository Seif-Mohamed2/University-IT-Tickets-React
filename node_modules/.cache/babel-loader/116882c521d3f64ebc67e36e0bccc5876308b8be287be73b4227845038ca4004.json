{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useSelector } from \"react-redux\";\nimport { selectCurrentToken } from \"../features/auth/authSlice\";\nimport jwtDecode from \"jwt-decode\";\nconst useAuth = () => {\n  _s();\n  const token = useSelector(selectCurrentToken);\n  let isManager = false;\n  let isAdmin = false;\n  let status = \"Employee\";\n  let isStudent = false;\n  if (token) {\n    const decode = jwtDecode(token);\n    const {\n      username,\n      roles,\n      isStudent\n    } = decode.UserInfo;\n    console.log(isStudent);\n    isAdmin = roles.includes(\"Admin\");\n    isManager = roles.includes(\"Manager\");\n    if (isManager) {\n      status = \"Manager\";\n    }\n    if (isAdmin) {\n      status = \"Admin\";\n    }\n    return {\n      username,\n      roles,\n      isAdmin,\n      isManager,\n      status,\n      isStudent\n    };\n  }\n  return {\n    username: \"\",\n    isAdmin,\n    isManager,\n    status,\n    roles: [],\n    isStudent\n  };\n};\n_s(useAuth, \"bD5+gKbiITcJRDYAIJK4ZSEgato=\", false, function () {\n  return [useSelector];\n});\nexport default useAuth;","map":{"version":3,"names":["useSelector","selectCurrentToken","jwtDecode","useAuth","token","isManager","isAdmin","status","isStudent","decode","username","roles","UserInfo","console","log","includes"],"sources":["/Users/seifmohamed/Documents/webdev/TechNotes/front-end/my-app/src/hooks/useAuth.js"],"sourcesContent":["import {useSelector} from \"react-redux\";\nimport {selectCurrentToken} from \"../features/auth/authSlice\";\nimport jwtDecode from \"jwt-decode\";\n\nconst useAuth = () => {\n  const token = useSelector(selectCurrentToken);\n  let isManager = false;\n  let isAdmin = false;\n  let status = \"Employee\";\n  let isStudent = false;\n\n  if (token){\n    const decode = jwtDecode(token);\n    const {username, roles, isStudent} = decode.UserInfo;\n    console.log(isStudent)\n    isAdmin = roles.includes(\"Admin\");\n    isManager = roles.includes(\"Manager\");\n    if (isManager){\n        status = \"Manager\"\n    }\n    if (isAdmin){\n        status = \"Admin\"\n    }\n    return {username, roles, isAdmin, isManager, status, isStudent};\n  }\n  return {username: \"\", isAdmin, isManager, status, roles: [], isStudent};\n}\n\nexport default useAuth\n"],"mappings":";AAAA,SAAQA,WAAW,QAAO,aAAa;AACvC,SAAQC,kBAAkB,QAAO,4BAA4B;AAC7D,OAAOC,SAAS,MAAM,YAAY;AAElC,MAAMC,OAAO,GAAG,MAAM;EAAA;EACpB,MAAMC,KAAK,GAAGJ,WAAW,CAACC,kBAAkB,CAAC;EAC7C,IAAII,SAAS,GAAG,KAAK;EACrB,IAAIC,OAAO,GAAG,KAAK;EACnB,IAAIC,MAAM,GAAG,UAAU;EACvB,IAAIC,SAAS,GAAG,KAAK;EAErB,IAAIJ,KAAK,EAAC;IACR,MAAMK,MAAM,GAAGP,SAAS,CAACE,KAAK,CAAC;IAC/B,MAAM;MAACM,QAAQ;MAAEC,KAAK;MAAEH;IAAS,CAAC,GAAGC,MAAM,CAACG,QAAQ;IACpDC,OAAO,CAACC,GAAG,CAACN,SAAS,CAAC;IACtBF,OAAO,GAAGK,KAAK,CAACI,QAAQ,CAAC,OAAO,CAAC;IACjCV,SAAS,GAAGM,KAAK,CAACI,QAAQ,CAAC,SAAS,CAAC;IACrC,IAAIV,SAAS,EAAC;MACVE,MAAM,GAAG,SAAS;IACtB;IACA,IAAID,OAAO,EAAC;MACRC,MAAM,GAAG,OAAO;IACpB;IACA,OAAO;MAACG,QAAQ;MAAEC,KAAK;MAAEL,OAAO;MAAED,SAAS;MAAEE,MAAM;MAAEC;IAAS,CAAC;EACjE;EACA,OAAO;IAACE,QAAQ,EAAE,EAAE;IAAEJ,OAAO;IAAED,SAAS;IAAEE,MAAM;IAAEI,KAAK,EAAE,EAAE;IAAEH;EAAS,CAAC;AACzE,CAAC;AAAA,GAtBKL,OAAO;EAAA,QACGH,WAAW;AAAA;AAuB3B,eAAeG,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}